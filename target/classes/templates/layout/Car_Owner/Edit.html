<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/2465434fef.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/Car_Owner/AddCar.css}">
    <link rel="stylesheet" th:href="@{/css/Car_Owner/Edit.css}">
    <link rel="stylesheet" th:href="@{/css/Car_Owner/EditDetail.css}">
    <link rel="stylesheet" th:href="@{/css/Car_Owner/EditPricing.css}">

</head>
<div th:replace="fragments/fragment :: header"></div>
<section class="container-fluid">
    <ul class="breadcrumb">
        <li><a href="#">Home</a></li>
        <li><a href="#">My car</a></li>
        <li>Edit details</li>
    </ul>
    <p>Edit car details</p>
</section>
<div class="row mb-5 info" th:object="${car}">
    <div class="col-sm-7 mt-3">
        <input type="hidden" th:field="*{images}" class="images">
        <div id="slide" class="carousel slide" data-ride="carousel">

            <!-- Indicators -->
            <ul class="carousel-indicators">
                <li data-target="#slide" data-slide-to="0" class="active"></li>
                <li data-target="#slide" data-slide-to="1"></li>
                <li data-target="#slide" data-slide-to="2"></li>
                <li data-target="#slide" data-slide-to="3"></li>
            </ul>

            <div class="image-container">
                <!-- The slideshow -->
                <div class="carousel-inner"></div>
            </div>

            <!-- Left and right controls -->
            <a class="carousel-control-prev" href="#slide" data-slide="prev">
                <span><i class="fa-solid fa-angle-left"></i></span>
            </a>
            <a class="carousel-control-next" href="#slide" data-slide="next">
                <span><i class="fa-solid fa-angle-right"></i></span>
            </a>
        </div>
    </div>
    <div class="col-md-3 mt-3">
        <p class="car-name" th:text="*{name}"></p>
        <table>
            <tr>
                <td><p>Ratings:</p></td>
                <td>
                    <input type="hidden" th:value="${rate}" class="star-rate">
                    <p class="star"></p>
                    <small>(No ratings yet)</small>
                </td>
            </tr>
            <tr>
                <td><p>No. of rides:</p></td>
                <td class="num-of-ride"><p th:text="${numberOfRide}"></p></td>
            </tr>
            <tr>
                <td><p>Price:</p></td>
                <td><p class="show-price"></p></td>
                <input type="hidden" class="base-price" th:value="*{basePrice}">
            </tr>
            <tr>
                <td><p>Locations:</p></td>
                <td class="location"><p th:text="*{address}"></p></td>
            </tr>
            <tr>
                <td><p>Status:</p></td>
                <td><p class="status"></p></td>
                <input type="hidden" th:value="*{carStatus}" class="car-status">
            </tr>
        </table>
    </div>
    <div class="col-md-2 mt-3">
        <a href="#" class="btn btn-primary deposit" th:if="${booking.status.name() == 'Pending_Deposit'}" th:data-id="${booking.id}">Confirm Deposit</a>
        <a href="#" class="btn btn-primary payment" th:if="${booking.status.name() == 'Pending_Payment'}" th:data-id="${booking.id}">Confirm Payment</a>
    </div>
</div>
<div class="info-title-container">
    <span class="info-title btn">Basic information</span>
    <span class="info-title btn">Details</span>
    <span class="info-title btn">Pricing</span>
</div>
<div class="info-container">
    <div class="frag">
        <div th:replace="fragments/Car_Owner/Edit_Basic :: editBasic"></div>
    </div>

    <div class="frag" style="display: none">
        <div th:replace="fragments/Car_Owner/Edit_Detail :: editDetail"></div>
    </div>

    <div class="frag" style="display: none">
        <div th:replace="fragments/Car_Owner/Edit_Pricing :: editPricing"></div>
    </div>
</div>
<div class="background" style="display:none"></div>
<div class="pop-up" style="display:none">
    <input type="hidden" class="display-input" value="">
    <input type="hidden" class="deposit-value" value="">
    <input type="hidden" class="payment-value" value="">
    <p>Confirm deposit</p>
    <p>Please confirm that you have receive the deposit this booking.</p>
    <button type="button" class="btn no-btn">No</button>
    <button type="button" class="btn yes-btn">Yes</button>
</div>

<div th:replace="fragments/fragment :: footer"></div>
<script th:src="@{/js/Car_Owner/Edit.js}"></script>
</body>
</html>